{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAI0B,MAApBC,EAASC,SAASC,cAAc,SAChCC,EAAaF,SAASG,iBAAiB,SAC1BH,SAASG,iBAAiB,SAC1BH,SAASG,iBAAiB,UAI7C,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAGO,OACpC,IAAIC,QADTH,EACiBI,IACjBC,YAAW,KACTD,EAAQ,C,SAAEN,E,MAAUC,IACpBO,EAAAhB,GAASiB,OAAOC,QACd,uBAAqBV,QAAiBC,MAAU,GAEjDA,EAAM,EAGQU,IACjBJ,YAAW,KACTI,EAAO,C,SAAEX,E,MAAUC,IACnBO,EAAAhB,GAASiB,OAAOG,QACd,sBAAoBZ,QAAiBC,MAAU,GAEhDA,EAAM,E,CAtBfP,EAAOmB,iBAAiB,UA2BxB,SAAqBC,GACnBA,EAAMC,iBAEN,MAAMC,EAAaC,SAASpB,EAAW,GAAGqB,MAAO,IAC3CC,EAAYF,SAASpB,EAAW,GAAGqB,MAAO,IAC1CE,EAASH,SAASpB,EAAW,GAAGqB,MAAO,IAE7C,GAAIG,MAAML,IAAeK,MAAMF,IAAcE,MAAMD,GAEjD,YADAZ,EAAAhB,GAASiB,OAAOG,QAAQ,8BAI1B,MAAMU,EAAW,GAEjB,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAQG,IAAK,CAC/B,MACMC,EAAUzB,EAAcwB,EAAI,EADpBP,EAAaO,EAAIJ,GAG/BK,EACGC,MAAK,EAACzB,SAAEA,EAAQC,MAAEA,MACjByB,QAAQC,IAAI,uBAAqB3B,QAAiBC,MAAU,IAE7D2B,OAAM,EAAC5B,SAAEA,EAAQC,MAAEA,MAClByB,QAAQC,IAAI,sBAAoB3B,QAAeC,MAAU,IAG7DqB,EAASO,KAAKL,E,CAGhBnB,QAAQyB,IAAIR,GACTG,MAAK,KACJjB,EAAAhB,GAASiB,OAAOC,QAAQ,wBAAwB,IAEjDkB,OAAM,KACLpB,EAAAhB,GAASiB,OAAOG,QAAQ,gCAAgC,G,IAI9D,MAAMmB,EAAM,IAAIC,EAAAC,YAAiB,CAAEC,SAAUC,SAE7CxC,SAASyC,KAAKC,YAAYN,EAAIO,MAE9B,MAAMC,GAAW,IAAIP,EAAAQ,UAClBC,aACC,kBACA,EACE,KACA,GACA,KACA,GACA,EACA,KAEF,GAGDA,aACC,SACA,CACE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEF,GAGEC,EAASV,EAAAW,OAAYC,KACzB,oXAkBA,mIAWIC,EAAW,IAAIb,EAAAc,KAAUP,EAAUG,GAEzCG,EAAS7C,SAAS+C,IAAI,IAAK,KAC3BF,EAASG,MAAMD,IAAI,GAEnBhB,EAAIkB,MAAMC,SAASL,GAEnBd,EAAIoB,OAAOC,KAAIC,IACbR,EAASS,UAAY,GAAI","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport * as PIXI from 'pixi.js';\n\n// Отримуємо необхідні елементи.\nconst formEl = document.querySelector('.form');\nconst formInputs = document.querySelectorAll('input');\nconst formLabels = document.querySelectorAll('label');\nconst formButton = document.querySelectorAll('button');\n\nformEl.addEventListener('submit', handlerForm);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  // Перевіряємо, чи проміс виконується або відхиляється.\n  if (shouldResolve) {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve({ position, delay });\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      }, delay);\n    });\n  } else {\n    return new Promise(reject => {\n      setTimeout(() => {\n        reject({ position, delay });\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      }, delay);\n    });\n  }\n}\n\nfunction handlerForm(event) {\n  event.preventDefault();\n\n  const firstDelay = parseInt(formInputs[0].value, 10);\n  const stepDelay = parseInt(formInputs[1].value, 10);\n  const amount = parseInt(formInputs[2].value, 10);\n\n  if (isNaN(firstDelay) || isNaN(stepDelay) || isNaN(amount)) {\n    Notiflix.Notify.failure('Please enter valid numbers');\n    return;\n  }\n\n  const promises = [];\n\n  for (let i = 0; i < amount; i++) {\n    const delay = firstDelay + i * stepDelay;\n    const promise = createPromise(i + 1, delay);\n\n    promise\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n\n    promises.push(promise);\n  }\n\n  Promise.all(promises)\n    .then(() => {\n      Notiflix.Notify.success('All promises resolved');\n    })\n    .catch(() => {\n      Notiflix.Notify.failure('At least one promise rejected');\n    });\n}\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry()\n  .addAttribute(\n    'aVertexPosition', // the attribute name\n    [\n      -100,\n      -50, // x, y\n      100,\n      -50, // x, y\n      0.0,\n      100.0,\n    ], // x, y\n    2\n  ) // the size of the attribute\n\n  .addAttribute(\n    'aColor', // the attribute name\n    [\n      1,\n      0,\n      0, // r, g, b\n      0,\n      1,\n      0, // r, g, b\n      0,\n      0,\n      1,\n    ], // r, g, b\n    3\n  ); // the size of the attribute\n\nconst shader = PIXI.Shader.from(\n  `\n\n    precision mediump float;\n    attribute vec2 aVertexPosition;\n    attribute vec3 aColor;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec3 vColor;\n\n    void main() {\n\n        vColor = aColor;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`,\n\n  `precision mediump float;\n\n    varying vec3 vColor;\n\n    void main() {\n        gl_FragColor = vec4(vColor, 1.0);\n    }\n\n`\n);\n\nconst triangle = new PIXI.Mesh(geometry, shader);\n\ntriangle.position.set(400, 300);\ntriangle.scale.set(2);\n\napp.stage.addChild(triangle);\n\napp.ticker.add(delta => {\n  triangle.rotation += 0.01;\n});\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$formInputs","querySelectorAll","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","setTimeout","$parcel$interopDefault","Notify","success","reject","failure","addEventListener","event","preventDefault","firstDelay","parseInt","value","stepDelay","amount","isNaN","promises","i","promise","then","console","log","catch","push","all","$47d4ff9957288465$var$app","$4U7Pp","Application","resizeTo","window","body","appendChild","view","$47d4ff9957288465$var$geometry","Geometry","addAttribute","$47d4ff9957288465$var$shader","Shader","from","$47d4ff9957288465$var$triangle","Mesh","set","scale","stage","addChild","ticker","add","delta","rotation"],"version":3,"file":"03-promises.eb8eec61.js.map"}